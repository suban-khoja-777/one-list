var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let r,l;function c(e,t){return r||(r=document.createElement("a")),r.href=t,e===r.href}function i(e,t,n,s){return e[1]&&s?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](s(t))):n.ctx}function u(e){return null==e?"":e}function d(e,t){e.appendChild(t)}function f(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function m(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function $(){return h(" ")}function g(){return h("")}function k(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function v(e,t){e.value=null==t?"":t}function E(e){l=e}function N(e){(function(){if(!l)throw new Error("Function called outside component initialization");return l})().$$.on_mount.push(e)}const b=[],S=[],T=[],w=[],I=Promise.resolve();let P=!1;function x(e){T.push(e)}let O=!1;const A=new Set;function C(){if(!O){O=!0;do{for(let e=0;e<b.length;e+=1){const t=b[e];E(t),D(t.$$)}for(E(null),b.length=0;S.length;)S.pop()();for(let e=0;e<T.length;e+=1){const t=T[e];A.has(t)||(A.add(t),t())}T.length=0}while(b.length);for(;w.length;)w.pop()();P=!1,O=!1,A.clear()}}function D(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(x)}}const j=new Set;let L;function H(){L={r:0,c:[],p:L}}function U(){L.r||s(L.c),L=L.p}function R(e,t){e&&e.i&&(j.delete(e),e.i(t))}function K(e,t,n,s){if(e&&e.o){if(j.has(e))return;j.add(e),L.c.push((()=>{j.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}function B(e){e&&e.c()}function M(e,n,a,r){const{fragment:l,on_mount:c,on_destroy:i,after_update:u}=e.$$;l&&l.m(n,a),r||x((()=>{const n=c.map(t).filter(o);i?i.push(...n):s(n),e.$$.on_mount=[]})),u.forEach(x)}function W(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function z(e,t){-1===e.$$.dirty[0]&&(b.push(e),P||(P=!0,I.then(C)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(t,o,a,r,c,i,u,d=[-1]){const f=l;E(t);const m=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||f.$$.root};u&&u(m.root);let h=!1;if(m.ctx=a?a(t,o.props||{},((e,n,...s)=>{const o=s.length?s[0]:n;return m.ctx&&c(m.ctx[e],m.ctx[e]=o)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](o),h&&z(t,e)),n})):[],m.update(),h=!0,s(m.before_update),m.fragment=!!r&&r(m.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);m.fragment&&m.fragment.l(e),e.forEach(p)}else m.fragment&&m.fragment.c();o.intro&&R(t.$$.fragment),M(t,o.target,o.anchor,o.customElement),C()}E(f)}class q{$destroy(){W(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const F={apiKey:"AIzaSyCZ2HXCcsbMsIHMxAdqiStOOx7AA5Xhkms",authDomain:"tick-todo-app.firebaseapp.com",projectId:"tick-todo-app",storageBucket:"tick-todo-app.appspot.com",messagingSenderId:"114323470299",appId:"1:114323470299:web:5db79253e64602c2f199fe",measurementId:"G-SHK9S7SRYF"};Object.freeze(F),firebase.initializeApp(F);const X=()=>{firebase.auth().signOut()},Y=firebase.auth(),G={},Z={SHOW_SPINNER:"SHOW_SPINNER",HIDE_SPINNER:"HIDE_SPINNER",UPDATE_STATUS:"UPDATE_STATUS",DELETE_TASK:"DELETE_TASK",OPEN_TASK_DETAIL:"OPEN_TASK_DETAIL"};Object.freeze(Z);const Q=(e,t)=>{G[e]||(G[e]=[]);G[e].find((e=>e.callback===t))||G[e].push({callback:t})},V=(e,t)=>{if(G[e]){G[e].forEach((n=>{try{n.callback.call(void 0,t)}catch(s){console.error("@eventName : ",e)&&console.error("@listener : ",n)&&console.error("@payload : ",t)&&console.error("@error : ",s)}}))}},ee="onelist",te={BASE_ENDPOINT:"https://onelist-001-developer-edition.ap27.force.com/services/apexrest/api/",ENDPOINTS:{getUserTasks:"getUserTasks",updateTaskStatus:"updateTaskStatus",createTask:"createTask",deleteTask:"deleteTask",updateTaskTitleAndNote:"updateTaskTitleAndNote"}};function ne(t){let n,s,a,r;return{c(){n=m("button"),s=h(t[0]),_(n,"data-type",t[2]),_(n,"class","svelte-1syxe1a")},m(e,l){f(e,n,l),d(n,s),a||(r=k(n,"click",(function(){o(t[1])&&t[1].apply(this,arguments)})),a=!0)},p(e,[o]){t=e,1&o&&y(s,t[0]),4&o&&_(n,"data-type",t[2])},i:e,o:e,d(e){e&&p(n),a=!1,r()}}}function se(e,t,n){let{label:s}=t,{onClick:o}=t,{type:a}=t;return e.$$set=e=>{"label"in e&&n(0,s=e.label),"onClick"in e&&n(1,o=e.onClick),"type"in e&&n(2,a=e.type)},[s,o,a]}Object.freeze(te);class oe extends q{constructor(e){super(),J(this,e,se,ne,a,{label:0,onClick:1,type:2})}}function ae(e){let t,n;return{c(){t=m("label"),n=h(e[3]),_(t,"for",e[2]),_(t,"class","svelte-1md4u3y")},m(e,s){f(e,t,s),d(t,n)},p(e,s){8&s&&y(n,e[3]),4&s&&_(t,"for",e[2])},d(e){e&&p(t)}}}function re(t){let n,a,r,l,c,i=t[0]&&ae(t);return{c(){i&&i.c(),n=$(),a=m("input"),_(a,"class",r=u(t[8])+" svelte-1md4u3y"),_(a,"type",t[1]),_(a,"name",t[2]),a.value=t[7],_(a,"placeholder",t[4])},m(e,s){i&&i.m(e,s),f(e,n,s),f(e,a,s),l||(c=[k(a,"change",(function(){o(t[5])&&t[5].apply(this,arguments)})),k(a,"keyup",(function(){o(t[6])&&t[6].apply(this,arguments)}))],l=!0)},p(e,[s]){(t=e)[0]?i?i.p(t,s):(i=ae(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),256&s&&r!==(r=u(t[8])+" svelte-1md4u3y")&&_(a,"class",r),2&s&&_(a,"type",t[1]),4&s&&_(a,"name",t[2]),128&s&&a.value!==t[7]&&(a.value=t[7]),16&s&&_(a,"placeholder",t[4])},i:e,o:e,d(e){i&&i.d(e),e&&p(n),e&&p(a),l=!1,s(c)}}}function le(e,t,n){let{hasLabel:s=!1}=t,{type:o}=t,{name:a}=t,{label:r}=t,{placeholder:l}=t,{onChange:c}=t,{onKeyUp:i}=t,{value:u=""}=t,{width_class:d}=t;return e.$$set=e=>{"hasLabel"in e&&n(0,s=e.hasLabel),"type"in e&&n(1,o=e.type),"name"in e&&n(2,a=e.name),"label"in e&&n(3,r=e.label),"placeholder"in e&&n(4,l=e.placeholder),"onChange"in e&&n(5,c=e.onChange),"onKeyUp"in e&&n(6,i=e.onKeyUp),"value"in e&&n(7,u=e.value),"width_class"in e&&n(8,d=e.width_class)},[s,o,a,r,l,c,i,u,d]}class ce extends q{constructor(e){super(),J(this,e,le,re,a,{hasLabel:0,type:1,name:2,label:3,placeholder:4,onChange:5,onKeyUp:6,value:7,width_class:8})}}function ie(t){let n,s,o,a,r,l,i,u,g,k,y,v,E,N,b,S,T,w,I,P;return E=new ce({props:{name:"email",type:"email",label:"Email",hasLabel:!0,onChange:t[0]}}),b=new ce({props:{name:"password",type:"password",label:"Password",hasLabel:!0,onChange:t[0]}}),I=new oe({props:{onClick:t[1],label:"Login",type:"secondary"}}),{c(){n=m("div"),s=m("header"),o=m("span"),a=m("img"),l=$(),i=h(ee),u=$(),g=m("span"),g.textContent="Suban Khoja",k=$(),y=m("div"),v=m("div"),B(E.$$.fragment),N=$(),B(b.$$.fragment),S=$(),T=m("br"),w=$(),B(I.$$.fragment),_(a,"class","logo svelte-1tissyp"),c(a.src,r="./logo.svg")||_(a,"src","./logo.svg"),_(a,"alt","oneList"),_(o,"class","app-name svelte-1tissyp"),_(g,"class","dev-name svelte-1tissyp"),_(s,"class","app-header svelte-1tissyp"),_(v,"class","form svelte-1tissyp"),_(y,"class","form-container login-form svelte-1tissyp"),_(n,"class","container svelte-1tissyp")},m(e,t){f(e,n,t),d(n,s),d(s,o),d(o,a),d(o,l),d(o,i),d(s,u),d(s,g),d(n,k),d(n,y),d(y,v),M(E,v,null),d(v,N),M(b,v,null),d(v,S),d(v,T),d(v,w),M(I,v,null),P=!0},p:e,i(e){P||(R(E.$$.fragment,e),R(b.$$.fragment,e),R(I.$$.fragment,e),P=!0)},o(e){K(E.$$.fragment,e),K(b.$$.fragment,e),K(I.$$.fragment,e),P=!1},d(e){e&&p(n),W(E),W(b),W(I)}}}function ue(e){let t={email:"",name:""};return[e=>{t[e.target.name]=e.target.value},()=>{const e=t.email,n=t.password;e&&n&&(V(Z.SHOW_SPINNER,{}),((e,t)=>firebase.auth().signInWithEmailAndPassword(e,t))(e,n).then((e=>{V(Z.HIDE_SPINNER,{})})).catch((e=>{V(Z.HIDE_SPINNER,{})})))}]}class de extends q{constructor(e){super(),J(this,e,ue,ie,a,{})}}function fe(e){let t,n;return{c(){t=m("span"),n=h(e[0]),_(t,"class","task-name svelte-nnieyo")},m(e,s){f(e,t,s),d(t,n)},p(e,t){1&t&&y(n,e[0])},d(e){e&&p(t)}}}function pe(e){let t,n,s,o=e[3].checked?"Completed":"Not Completed";return{c(){t=m("span"),n=h(o),_(t,"class",s="task-status "+(e[3].checked?"completed":"not-completed")+" svelte-nnieyo")},m(e,s){f(e,t,s),d(t,n)},p(e,a){8&a&&o!==(o=e[3].checked?"Completed":"Not Completed")&&y(n,o),8&a&&s!==(s="task-status "+(e[3].checked?"completed":"not-completed")+" svelte-nnieyo")&&_(t,"class",s)},d(e){e&&p(t)}}}function me(e){let t,n,s;return n=new oe({props:{onClick:e[4],label:e[1],type:"link"}}),{c(){t=m("div"),B(n.$$.fragment),_(t,"class","modal-footer flex justify-center svelte-nnieyo")},m(e,o){f(e,t,o),M(n,t,null),s=!0},p(e,t){const s={};16&t&&(s.onClick=e[4]),2&t&&(s.label=e[1]),n.$set(s)},i(e){s||(R(n.$$.fragment,e),s=!0)},o(e){K(n.$$.fragment,e),s=!1},d(e){e&&p(t),W(n)}}}function he(e){let t,n,s,o,a,r,l,c,u=e[0]&&fe(e),h=e[3]&&pe(e);const g=e[6].default,k=function(e,t,n,s){if(e){const o=i(e,t,n,s);return e[0](o)}}(g,e,e[5],null);let y=e[2]&&me(e);return{c(){t=m("div"),n=m("div"),s=m("div"),o=m("div"),u&&u.c(),a=$(),h&&h.c(),r=$(),k&&k.c(),l=$(),y&&y.c(),_(o,"class","modal-header svelte-nnieyo"),_(s,"class","modal-content svelte-nnieyo"),_(n,"class","modal svelte-nnieyo"),_(t,"class","modal-container fixed svelte-nnieyo")},m(e,i){f(e,t,i),d(t,n),d(n,s),d(s,o),u&&u.m(o,null),d(o,a),h&&h.m(o,null),d(s,r),k&&k.m(s,null),d(s,l),y&&y.m(s,null),c=!0},p(e,[t]){e[0]?u?u.p(e,t):(u=fe(e),u.c(),u.m(o,a)):u&&(u.d(1),u=null),e[3]?h?h.p(e,t):(h=pe(e),h.c(),h.m(o,null)):h&&(h.d(1),h=null),k&&k.p&&(!c||32&t)&&function(e,t,n,s,o,a){if(o){const r=i(t,n,s,a);e.p(r,o)}}(k,g,e,e[5],c?function(e,t,n,s){if(e[2]&&s){const o=e[2](s(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|o[s];return e}return t.dirty|o}return t.dirty}(g,e[5],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[5]),null),e[2]?y?(y.p(e,t),4&t&&R(y,1)):(y=me(e),y.c(),R(y,1),y.m(s,null)):y&&(H(),K(y,1,1,(()=>{y=null})),U())},i(e){c||(R(k,e),R(y),c=!0)},o(e){K(k,e),K(y),c=!1},d(e){e&&p(t),u&&u.d(),h&&h.d(),k&&k.d(e),y&&y.d()}}}function $e(e,t,n){let{$$slots:s={},$$scope:o}=t,{header:a}=t,{closeLabel:r="Close"}=t,{showClose:l=!0}=t,{data:c}=t;const i=()=>{V(Z.CLOSE_POPUP,{})};let{OnClose:u=i}=t;return e.$$set=e=>{"header"in e&&n(0,a=e.header),"closeLabel"in e&&n(1,r=e.closeLabel),"showClose"in e&&n(2,l=e.showClose),"data"in e&&n(3,c=e.data),"OnClose"in e&&n(4,u=e.OnClose),"$$scope"in e&&n(5,o=e.$$scope)},[a,r,l,c,u,o,s]}class ge extends q{constructor(e){super(),J(this,e,$e,he,a,{header:0,closeLabel:1,showClose:2,data:3,OnClose:4})}}function ke(e){let t,n,s,o,a,r,l,c,i,u,g,v,E,N;return i=new oe({props:{onClick:e[4],label:"delete",type:"link"}}),g=new oe({props:{onClick:e[5],label:"open",type:"link"}}),{c(){t=m("li"),n=m("div"),s=m("input"),o=$(),a=m("span"),r=h(e[0]),l=$(),c=m("div"),B(i.$$.fragment),u=h(" |  \r\n        "),B(g.$$.fragment),_(s,"type","checkbox"),s.checked=e[2],_(s,"class","svelte-1lnt18h"),_(a,"class","task-label svelte-1lnt18h"),_(n,"class","data-container svelte-1lnt18h"),_(c,"class","action-container svelte-1lnt18h"),_(t,"class","task svelte-1lnt18h"),_(t,"id",e[1])},m(p,m){f(p,t,m),d(t,n),d(n,s),d(n,o),d(n,a),d(a,r),d(t,l),d(t,c),M(i,c,null),d(c,u),M(g,c,null),v=!0,E||(N=k(s,"change",e[3]),E=!0)},p(e,[n]){(!v||4&n)&&(s.checked=e[2]),(!v||1&n)&&y(r,e[0]),(!v||2&n)&&_(t,"id",e[1])},i(e){v||(R(i.$$.fragment,e),R(g.$$.fragment,e),v=!0)},o(e){K(i.$$.fragment,e),K(g.$$.fragment,e),v=!1},d(e){e&&p(t),W(i),W(g),E=!1,N()}}}function _e(e,t,n){let{task_name:s}=t,{task_id:o}=t,{task_status:a}=t;return e.$$set=e=>{"task_name"in e&&n(0,s=e.task_name),"task_id"in e&&n(1,o=e.task_id),"task_status"in e&&n(2,a=e.task_status)},[s,o,a,e=>{V(Z.UPDATE_STATUS,{task_id:o,task_status:e.target.checked})},()=>{confirm("Are you sure?")&&V(Z.DELETE_TASK,{task_id:o})},()=>{V(Z.OPEN_TASK_DETAIL,o)}]}class ye extends q{constructor(e){super(),J(this,e,_e,ke,a,{task_name:0,task_id:1,task_status:2})}}function ve(e,t,n){const s=e.slice();return s[12]=t[n],s}function Ee(e){let t,n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=Ne(ve(e,s,t));const a=e=>K(o[e],1,1,(()=>{o[e]=null}));return{c(){t=m("div");for(let e=0;e<o.length;e+=1)o[e].c();_(t,"class","task-container svelte-1j0wcsd")},m(e,s){f(e,t,s);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0},p(e,n){if(1&n){let r;for(s=e[0],r=0;r<s.length;r+=1){const a=ve(e,s,r);o[r]?(o[r].p(a,n),R(o[r],1)):(o[r]=Ne(a),o[r].c(),R(o[r],1),o[r].m(t,null))}for(H(),r=s.length;r<o.length;r+=1)a(r);U()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)R(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)K(o[e]);n=!1},d(e){e&&p(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(o,e)}}}function Ne(e){let t,n;return t=new ye({props:{task_name:e[12].content,task_id:e[12].id,task_status:e[12].checked}}),{c(){B(t.$$.fragment)},m(e,s){M(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.task_name=e[12].content),1&n&&(s.task_id=e[12].id),1&n&&(s.task_status=e[12].checked),t.$set(s)},i(e){n||(R(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function be(e){let t,n;return t=new ge({props:{header:e[2].content,data:e[2],$$slots:{default:[Se]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment)},m(e,s){M(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.header=e[2].content),4&n&&(s.data=e[2]),32772&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(R(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Se(e){let t,n,s,o,a,r,l,c,i,u,d,h,g,y,E,N,b,S,T,w;return l=new ce({props:{width_class:"width-full",name:"task-name",type:"text",onChange:e[4],value:e[2].content}}),b=new oe({props:{onClick:e[6],label:"Save",type:"secondary"}}),{c(){t=m("br"),n=$(),s=m("br"),o=$(),a=m("div"),a.innerHTML='<label for="task-name" class="svelte-1j0wcsd">Name</label>',r=$(),B(l.$$.fragment),c=$(),i=m("br"),u=$(),d=m("br"),h=$(),g=m("label"),g.textContent="Additional Notes",y=$(),E=m("textarea"),N=$(),B(b.$$.fragment),_(g,"for","task-note"),_(g,"class","svelte-1j0wcsd"),_(E,"name","task-note"),_(E,"class","task-note svelte-1j0wcsd"),_(E,"rows","10")},m(p,m){f(p,t,m),f(p,n,m),f(p,s,m),f(p,o,m),f(p,a,m),f(p,r,m),M(l,p,m),f(p,c,m),f(p,i,m),f(p,u,m),f(p,d,m),f(p,h,m),f(p,g,m),f(p,y,m),f(p,E,m),v(E,e[2].note),f(p,N,m),M(b,p,m),S=!0,T||(w=k(E,"input",e[7]),T=!0)},p(e,t){const n={};4&t&&(n.value=e[2].content),l.$set(n),4&t&&v(E,e[2].note)},i(e){S||(R(l.$$.fragment,e),R(b.$$.fragment,e),S=!0)},o(e){K(l.$$.fragment,e),K(b.$$.fragment,e),S=!1},d(e){e&&p(t),e&&p(n),e&&p(s),e&&p(o),e&&p(a),e&&p(r),W(l,e),e&&p(c),e&&p(i),e&&p(u),e&&p(d),e&&p(h),e&&p(g),e&&p(y),e&&p(E),e&&p(N),W(b,e),T=!1,w()}}}function Te(e){let t,n,s,o,a,r,l,c,i,u,h;o=new ce({props:{width_class:"width-half",name:"search",type:"text",placeholder:"Type your task here. Press enter to create",onChange:e[3],onKeyUp:e[5],value:e[1]}}),l=new oe({props:{onClick:X,label:"Sign out",type:"secondary"}});let k=e[0]&&e[0].length&&Ee(e),y=e[2]&&be(e);return{c(){t=m("div"),n=m("header"),s=m("div"),B(o.$$.fragment),a=$(),r=m("div"),B(l.$$.fragment),c=$(),k&&k.c(),i=$(),y&&y.c(),u=g(),_(s,"class","input-container svelte-1j0wcsd"),_(r,"class","action-container svelte-1j0wcsd"),_(n,"class","svelte-1j0wcsd"),_(t,"class","app-container svelte-1j0wcsd")},m(e,p){f(e,t,p),d(t,n),d(n,s),M(o,s,null),d(n,a),d(n,r),M(l,r,null),d(t,c),k&&k.m(t,null),f(e,i,p),y&&y.m(e,p),f(e,u,p),h=!0},p(e,[n]){const s={};2&n&&(s.value=e[1]),o.$set(s),e[0]&&e[0].length?k?(k.p(e,n),1&n&&R(k,1)):(k=Ee(e),k.c(),R(k,1),k.m(t,null)):k&&(H(),K(k,1,1,(()=>{k=null})),U()),e[2]?y?(y.p(e,n),4&n&&R(y,1)):(y=be(e),y.c(),R(y,1),y.m(u.parentNode,u)):y&&(H(),K(y,1,1,(()=>{y=null})),U())},i(e){h||(R(o.$$.fragment,e),R(l.$$.fragment,e),R(k),R(y),h=!0)},o(e){K(o.$$.fragment,e),K(l.$$.fragment,e),K(k),K(y),h=!1},d(e){e&&p(t),W(o),W(l),k&&k.d(),e&&p(i),y&&y.d(e),e&&p(u)}}}function we(e,t,n){let s,o,a=[];N((()=>{var e;Q(Z.UPDATE_STATUS,l),Q(Z.DELETE_TASK,r),Q(Z.OPEN_TASK_DETAIL,c),Q(Z.CLOSE_POPUP,i),V(Z.SHOW_SPINNER,{}),(e=Y.currentUser.uid,fetch(te.BASE_ENDPOINT+te.ENDPOINTS.getUserTasks,{method:"POST",body:JSON.stringify({user_id:e})}).then((e=>e.json())).catch((e=>{console.error("getUserTasks : ",e)}))).then((e=>{e&&e.nodes&&e.nodes.length?(n(0,a=e.nodes),V(Z.HIDE_SPINNER,{})):V(Z.HIDE_SPINNER,{})})).catch((e=>{V(Z.HIDE_SPINNER,{})}))}));const r=e=>{var t,s;t=Y.currentUser.uid,s=e.task_id,fetch(te.BASE_ENDPOINT+te.ENDPOINTS.deleteTask,{method:"POST",body:JSON.stringify({user_id:t,node_id:s})}).then((e=>e.json())).catch((e=>{console.error("deleteTask : ",e)})),n(0,a=a.filter((t=>t.id!==e.task_id)))},l=e=>{for(let t=0;t<a.length;t++)a[t].id===e.task_id&&n(0,a[t].checked=e.task_status,a);var t,s,o;t=Y.currentUser.uid,s=e.task_id,o=e.task_status,fetch(te.BASE_ENDPOINT+te.ENDPOINTS.updateTaskStatus,{method:"POST",body:JSON.stringify({user_id:t,node_id:s,checked:o})}).then((e=>e.json())).catch((e=>{console.error("updateTaskStatus : ",e)}))},c=e=>{n(2,o=a.filter((t=>t.id===e))[0]),console.log(o)},i=()=>{n(2,o=null)};return[a,s,o,e=>{n(1,s=e.target.value)},e=>{n(2,o.content=e.target.value,o)},e=>{var t,o;"Enter"===e.key&&s&&(V(Z.SHOW_SPINNER,{}),(t=Y.currentUser.uid,o=s,fetch(te.BASE_ENDPOINT+te.ENDPOINTS.createTask,{method:"POST",body:JSON.stringify({user_id:t,content:o})}).then((e=>e.json())).catch((e=>{console.error("createTask : ",e)}))).then((e=>{a.push({id:e.new_node_ids[0],checked:!1,content:s}),n(1,s=""),n(0,a),V(Z.HIDE_SPINNER,{})})).catch((e=>{V(Z.HIDE_SPINNER,{})})))},()=>{var e,t,s,r;V(Z.SHOW_SPINNER,{}),(e=Y.currentUser.uid,t=o.id,s=o.content,r=o.note,fetch(te.BASE_ENDPOINT+te.ENDPOINTS.updateTaskTitleAndNote,{method:"POST",body:JSON.stringify({user_id:e,node_id:t,content:s,note:r})}).then((e=>e.json())).catch((e=>{console.error("updateTaskTitleAndNote : ",e)}))).then((e=>{V(Z.HIDE_SPINNER,{});for(let e=0;e<a.length;e++)a[e].id===o.id&&(n(0,a[e].note=o.note,a),n(0,a[e].content=o.content,a))})).catch((e=>{V(Z.HIDE_SPINNER,{})}))},function(){o.note=this.value,n(2,o)}]}class Ie extends q{constructor(e){super(),J(this,e,we,Te,a,{})}}function Pe(t){let n,s,o,a,r,l;return{c(){n=m("div"),s=m("div"),o=m("img"),r=$(),l=m("span"),l.textContent="onelist",_(o,"class","logo svelte-1avj5an"),c(o.src,a="./logo.svg")||_(o,"src","./logo.svg"),_(o,"alt","oneList"),_(s,"class","container svelte-1avj5an"),_(n,"class","main-container svelte-1avj5an")},m(e,t){f(e,n,t),d(n,s),d(s,o),d(s,r),d(s,l)},p:e,d(e){e&&p(n)}}}function xe(t){let n,s=t[0]&&Pe();return{c(){s&&s.c(),n=g()},m(e,t){s&&s.m(e,t),f(e,n,t)},p(e,[t]){e[0]?s?s.p(e,t):(s=Pe(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:e,o:e,d(e){s&&s.d(e),e&&p(n)}}}function Oe(e,t,n){let{show:s}=t;return e.$$set=e=>{"show"in e&&n(0,s=e.show)},[s]}class Ae extends q{constructor(e){super(),J(this,e,Oe,xe,a,{show:0})}}function Ce(e){let t;return{c(){t=m("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgb(241, 242, 243 / 0%); display: block;" width="100px" height="100px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" r="16" stroke-width="4" stroke="#f48668" stroke-dasharray="50.26548245743669 50.26548245743669" fill="none" stroke-linecap="round"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="0 50 50;360 50 50"></animateTransform></circle></svg>',_(t,"class","spinner-container svelte-199jbqc")},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}function De(t){let n,s=t[0]&&Ce();return{c(){s&&s.c(),n=g()},m(e,t){s&&s.m(e,t),f(e,n,t)},p(e,[t]){e[0]?s||(s=Ce(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:e,o:e,d(e){s&&s.d(e),e&&p(n)}}}function je(e,t,n){let{show:s=!0}=t;return e.$$set=e=>{"show"in e&&n(0,s=e.show)},[s]}class Le extends q{constructor(e){super(),J(this,e,je,De,a,{show:0})}}function He(e){let t,n,s,o;const a=[Re,Ue],r=[];function l(e,t){return e[0]?0:1}return t=l(e),n=r[t]=a[t](e),{c(){n.c(),s=g()},m(e,n){r[t].m(e,n),f(e,s,n),o=!0},p(e,o){let c=t;t=l(e),t!==c&&(H(),K(r[c],1,1,(()=>{r[c]=null})),U(),n=r[t],n||(n=r[t]=a[t](e),n.c()),R(n,1),n.m(s.parentNode,s))},i(e){o||(R(n),o=!0)},o(e){K(n),o=!1},d(e){r[t].d(e),e&&p(s)}}}function Ue(e){let t,n;return t=new de({}),{c(){B(t.$$.fragment)},m(e,s){M(t,e,s),n=!0},i(e){n||(R(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Re(e){let t,n;return t=new Ie({}),{c(){B(t.$$.fragment)},m(e,s){M(t,e,s),n=!0},i(e){n||(R(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Ke(e){let t,n,s,o,a,r;n=new Le({props:{show:e[1]}}),o=new Ae({props:{show:e[2]}});let l=!e[2]&&He(e);return{c(){t=m("main"),B(n.$$.fragment),s=$(),B(o.$$.fragment),a=$(),l&&l.c()},m(e,c){f(e,t,c),M(n,t,null),d(t,s),M(o,t,null),d(t,a),l&&l.m(t,null),r=!0},p(e,[s]){const a={};2&s&&(a.show=e[1]),n.$set(a);const r={};4&s&&(r.show=e[2]),o.$set(r),e[2]?l&&(H(),K(l,1,1,(()=>{l=null})),U()):l?(l.p(e,s),4&s&&R(l,1)):(l=He(e),l.c(),R(l,1),l.m(t,null))},i(e){r||(R(n.$$.fragment,e),R(o.$$.fragment,e),R(l),r=!0)},o(e){K(n.$$.fragment,e),K(o.$$.fragment,e),K(l),r=!1},d(e){e&&p(t),W(n),W(o),l&&l.d()}}}function Be(e,t,n){let s,o=!1,a=!0;const r=()=>{n(1,o=!0),n(1,o)},l=()=>{n(1,o=!1),n(1,o)};return Y.onAuthStateChanged((e=>{e&&e.uid?n(0,s=e):n(0,s=null),setTimeout((()=>{n(2,a=!1)}),500)})),N((()=>{Q(Z.SHOW_SPINNER,r),Q(Z.HIDE_SPINNER,l)})),[s,o,a]}return new class extends q{constructor(e){super(),J(this,e,Be,Ke,a,{})}}({target:document.body})}();
