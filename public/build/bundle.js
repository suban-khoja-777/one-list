var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(e,t,n,l){return e[1]&&l?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](l(t))):n.ctx}function o(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function u(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function p(){return f(" ")}function m(){return f("")}function g(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}e.selectedIndex=-1}let y;function k(e){y=e}function b(e){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(e)}const w=[],v=[],x=[],N=[],E=Promise.resolve();let S=!1;function T(e){x.push(e)}let j=!1;const I=new Set;function O(){if(!j){j=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];k(t),P(t.$$)}for(k(null),w.length=0;v.length;)v.pop()();for(let e=0;e<x.length;e+=1){const t=x[e];I.has(t)||(I.add(t),t())}x.length=0}while(w.length);for(;N.length;)N.pop()();S=!1,j=!1,I.clear()}}function P(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const C=new Set;let D;function A(){D={r:0,c:[],p:D}}function L(){D.r||l(D.c),D=D.p}function H(e,t){e&&e.i&&(C.delete(e),e.i(t))}function R(e,t,n,l){if(e&&e.o){if(C.has(e))return;C.add(e),D.c.push((()=>{C.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}function U(e){e&&e.c()}function K(e,n,a,r){const{fragment:o,on_mount:i,on_destroy:c,after_update:u}=e.$$;o&&o.m(n,a),r||T((()=>{const n=i.map(t).filter(s);c?c.push(...n):l(n),e.$$.on_mount=[]})),u.forEach(T)}function M(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function B(e,t){-1===e.$$.dirty[0]&&(w.push(e),S||(S=!0,E.then(O)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(t,s,a,r,o,i,u,d=[-1]){const f=y;k(t);const p=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:s.target||f.$$.root};u&&u(p.root);let m=!1;if(p.ctx=a?a(t,s.props||{},((e,n,...l)=>{const s=l.length?l[0]:n;return p.ctx&&o(p.ctx[e],p.ctx[e]=s)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](s),m&&B(t,e)),n})):[],p.update(),m=!0,l(p.before_update),p.fragment=!!r&&r(p.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);p.fragment&&p.fragment.l(e),e.forEach(c)}else p.fragment&&p.fragment.c();s.intro&&H(t.$$.fragment),K(t,s.target,s.anchor,s.customElement),O()}k(f)}class J{$destroy(){M(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const W={apiKey:"AIzaSyCZ2HXCcsbMsIHMxAdqiStOOx7AA5Xhkms",authDomain:"tick-todo-app.firebaseapp.com",projectId:"tick-todo-app",storageBucket:"tick-todo-app.appspot.com",messagingSenderId:"114323470299",appId:"1:114323470299:web:5db79253e64602c2f199fe",measurementId:"G-SHK9S7SRYF"};Object.freeze(W),firebase.initializeApp(W);const q=()=>{firebase.auth().signOut()},F=firebase.auth(),X={},Y={SHOW_SPINNER:"SHOW_SPINNER",HIDE_SPINNER:"HIDE_SPINNER",UPDATE_STATUS:"UPDATE_TASK",DELETE_TASK:"DELETE_TASK",OPEN_TASK_DETAIL:"OPEN_TASK_DETAIL"};Object.freeze(Y);const G=(e,t)=>{X[e]||(X[e]=[]);X[e].find((e=>e.callback===t))||X[e].push({callback:t})},Z=(e,t)=>{if(X[e]){X[e].forEach((n=>{try{n.callback.call(void 0,t)}catch(l){console.error("@eventName : ",e)&&console.error("@listener : ",n)&&console.error("@payload : ",t)&&console.error("@error : ",l)}}))}};function Q(t){let n,l,a,r;return{c(){n=d("button"),l=f(t[0]),h(n,"class","pointer text-bold svelte-pf6zjg"),h(n,"data-type",t[2])},m(e,c){i(e,n,c),o(n,l),a||(r=g(n,"click",(function(){s(t[1])&&t[1].apply(this,arguments)})),a=!0)},p(e,[s]){t=e,1&s&&_(l,t[0]),4&s&&h(n,"data-type",t[2])},i:e,o:e,d(e){e&&c(n),a=!1,r()}}}function V(e,t,n){let{label:l}=t,{onClick:s}=t,{type:a}=t;return e.$$set=e=>{"label"in e&&n(0,l=e.label),"onClick"in e&&n(1,s=e.onClick),"type"in e&&n(2,a=e.type)},[l,s,a]}class ee extends J{constructor(e){super(),z(this,e,V,Q,a,{label:0,onClick:1,type:2})}}function te(e,t,n){const l=e.slice();return l[13]=t[n],l}function ne(e){let t,n,l;return{c(){t=d("label"),n=f(e[3]),h(t,"class",l="text-bold "+e[9]+" svelte-9ptja9"),h(t,"for",e[2])},m(e,l){i(e,t,l),o(t,n)},p(e,s){8&s&&_(n,e[3]),512&s&&l!==(l="text-bold "+e[9]+" svelte-9ptja9")&&h(t,"class",l),4&s&&h(t,"for",e[2])},d(e){e&&c(t)}}}function le(e){let t,n,a,r;return{c(){t=d("input"),h(t,"class",n=e[10]+" border-primary border-box "+e[8]+" svelte-9ptja9"),h(t,"type",e[1]),h(t,"name",e[2]),t.value=e[7],h(t,"placeholder",e[4]),h(t,"data-field",e[11])},m(n,l){i(n,t,l),a||(r=[g(t,"change",(function(){s(e[5])&&e[5].apply(this,arguments)})),g(t,"keyup",(function(){s(e[6])&&e[6].apply(this,arguments)}))],a=!0)},p(l,s){e=l,1280&s&&n!==(n=e[10]+" border-primary border-box "+e[8]+" svelte-9ptja9")&&h(t,"class",n),2&s&&h(t,"type",e[1]),4&s&&h(t,"name",e[2]),4224&s&&t.value!==e[7]&&(t.value=e[7]),16&s&&h(t,"placeholder",e[4]),2048&s&&h(t,"data-field",e[11])},d(e){e&&c(t),a=!1,l(r)}}}function se(e){let t,n,l,a;return{c(){t=d("textarea"),h(t,"class",n="border-primary text-primary border-box bg-white "+e[8]+" svelte-9ptja9"),h(t,"rows","10"),h(t,"data-field",e[11]),t.value=e[7]},m(n,r){i(n,t,r),l||(a=g(t,"change",(function(){s(e[5])&&e[5].apply(this,arguments)})),l=!0)},p(l,s){e=l,256&s&&n!==(n="border-primary text-primary border-box bg-white "+e[8]+" svelte-9ptja9")&&h(t,"class",n),2048&s&&h(t,"data-field",e[11]),4224&s&&(t.value=e[7])},d(e){e&&c(t),l=!1,a()}}}function ae(e){let t,n,l,a=e[12],r=[];for(let t=0;t<a.length;t+=1)r[t]=re(te(e,a,t));return{c(){t=d("select");for(let e=0;e<r.length;e+=1)r[e].c();h(t,"class","column flex grow border-bottom-primary text-primary bg-secondary text-center pointer border-box justify-center status-column svelte-9ptja9"),h(t,"name",e[2]),h(t,"data-field",e[11])},m(a,o){i(a,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);$(t,e[7]),n||(l=g(t,"change",(function(){s(e[5])&&e[5].apply(this,arguments)})),n=!0)},p(n,l){if(e=n,4096&l){let n;for(a=e[12],n=0;n<a.length;n+=1){const s=te(e,a,n);r[n]?r[n].p(s,l):(r[n]=re(s),r[n].c(),r[n].m(t,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=a.length}4224&l&&$(t,e[7]),4&l&&h(t,"name",e[2]),2048&l&&h(t,"data-field",e[11])},d(e){e&&c(t),u(r,e),n=!1,l()}}}function re(e){let t,n,l,s=e[13]+"";return{c(){t=d("option"),n=f(s),t.__value=l=e[13],t.value=t.__value,h(t,"class","option bg-transparent")},m(e,l){i(e,t,l),o(t,n)},p(e,a){4096&a&&s!==(s=e[13]+"")&&_(n,s),4096&a&&l!==(l=e[13])&&(t.__value=l,t.value=t.__value)},d(e){e&&c(t)}}}function oe(t){let n,l,s=t[0]&&ne(t);function a(e,t){return"select"===e[1]?ae:"text-long"===e[1]?se:le}let r=a(t),o=r(t);return{c(){s&&s.c(),n=p(),o.c(),l=m()},m(e,t){s&&s.m(e,t),i(e,n,t),o.m(e,t),i(e,l,t)},p(e,[t]){e[0]?s?s.p(e,t):(s=ne(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),r===(r=a(e))&&o?o.p(e,t):(o.d(1),o=r(e),o&&(o.c(),o.m(l.parentNode,l)))},i:e,o:e,d(e){s&&s.d(e),e&&c(n),o.d(e),e&&c(l)}}}function ie(e,t,n){let{hasLabel:l=!1}=t,{type:s}=t,{name:a}=t,{label:r}=t,{placeholder:o}=t,{onChange:i}=t,{onKeyUp:c}=t,{value:u=""}=t,{width_class:d}=t,{label_class:f="dark"}=t,{classes:p}=t,{data_field:m}=t,{options:g}=t;return e.$$set=e=>{"hasLabel"in e&&n(0,l=e.hasLabel),"type"in e&&n(1,s=e.type),"name"in e&&n(2,a=e.name),"label"in e&&n(3,r=e.label),"placeholder"in e&&n(4,o=e.placeholder),"onChange"in e&&n(5,i=e.onChange),"onKeyUp"in e&&n(6,c=e.onKeyUp),"value"in e&&n(7,u=e.value),"width_class"in e&&n(8,d=e.width_class),"label_class"in e&&n(9,f=e.label_class),"classes"in e&&n(10,p=e.classes),"data_field"in e&&n(11,m=e.data_field),"options"in e&&n(12,g=e.options)},[l,s,a,r,o,i,c,u,d,f,p,m,g]}class ce extends J{constructor(e){super(),z(this,e,ie,oe,a,{hasLabel:0,type:1,name:2,label:3,placeholder:4,onChange:5,onKeyUp:6,value:7,width_class:8,label_class:9,classes:10,data_field:11,options:12})}}function ue(t){let n,l,s,a,r,u,f,m,g;return a=new ee({props:{onClick:t[1],label:"Login",type:"link"}}),{c(){n=d("header"),l=d("span"),l.innerHTML='<img class="logo svelte-mj7mwu" src="./logo.svg" alt="oneList"/>',s=p(),U(a.$$.fragment),r=p(),u=d("div"),u.innerHTML='<div class="flex justify-center flex-column align-center tagline-container"><h1 class="tagline svelte-mj7mwu">Manage your task better with</h1> \n                <h1 class="tagline highlight text-underline svelte-mj7mwu">onelist</h1></div> \n            <div class="flex justify-center flex-column align-center tagline-container"><img class="home svelte-mj7mwu" src="./login.svg" alt="oneList"/></div>',f=p(),m=d("footer"),m.innerHTML='<span class="dev-name text-bold highlight text-underline svelte-mj7mwu">Suban Khoja</span>',h(l,"class","app-name flex align-center text-bold text-primary svelte-mj7mwu"),h(n,"class","app-header flex justify-space-between align-center bg-secondary svelte-mj7mwu"),h(u,"class","flex justify-center flex-row align-center grow"),h(m,"class","app-header flex justify-end align-center bg-secondary svelte-mj7mwu")},m(e,t){i(e,n,t),o(n,l),o(n,s),K(a,n,null),i(e,r,t),i(e,u,t),i(e,f,t),i(e,m,t),g=!0},p:e,i(e){g||(H(a.$$.fragment,e),g=!0)},o(e){R(a.$$.fragment,e),g=!1},d(e){e&&c(n),M(a),e&&c(r),e&&c(u),e&&c(f),e&&c(m)}}}function de(t){let n,l,s,a,r,u,f,m,g,_,$,y,k,b,w,v,x,N,E,S,T,j,I,O,P;return _=new ce({props:{name:"email",type:"email",label:"Email",hasLabel:!0,onChange:t[3]}}),b=new ce({props:{name:"password",type:"password",label:"Password",hasLabel:!0,onChange:t[3]}}),N=new ee({props:{onClick:t[4],label:"Login",type:"primary"}}),O=new ee({props:{onClick:t[2],label:"Return to home",type:"link"}}),{c(){n=d("div"),l=d("div"),s=d("div"),s.innerHTML='<img class="form svelte-mj7mwu" src="./login-form.svg" alt="oneList"/>',a=p(),r=d("div"),u=d("span"),u.textContent="onelist",f=p(),m=d("br"),g=p(),U(_.$$.fragment),$=p(),y=d("br"),k=p(),U(b.$$.fragment),w=p(),v=d("br"),x=p(),U(N.$$.fragment),E=p(),S=d("br"),T=p(),j=d("br"),I=p(),U(O.$$.fragment),h(s,"class","form bg-dark flex justify-center bg-white svelte-mj7mwu"),h(u,"class","app-name flex align-center justify-center text-bold text-primary svelte-mj7mwu"),h(r,"class","form form-right flex justify-center flex-column bg-white svelte-mj7mwu"),h(l,"class","sub-container flex justify-center flex-row bg-white svelte-mj7mwu"),h(n,"class","form-container flex justify-center flex-row align-center login-form svelte-mj7mwu")},m(e,t){i(e,n,t),o(n,l),o(l,s),o(l,a),o(l,r),o(r,u),o(r,f),o(r,m),o(r,g),K(_,r,null),o(r,$),o(r,y),o(r,k),K(b,r,null),o(r,w),o(r,v),o(r,x),K(N,r,null),o(r,E),o(r,S),o(r,T),o(r,j),o(r,I),K(O,r,null),P=!0},p:e,i(e){P||(H(_.$$.fragment,e),H(b.$$.fragment,e),H(N.$$.fragment,e),H(O.$$.fragment,e),P=!0)},o(e){R(_.$$.fragment,e),R(b.$$.fragment,e),R(N.$$.fragment,e),R(O.$$.fragment,e),P=!1},d(e){e&&c(n),M(_),M(b),M(N),M(O)}}}function fe(e){let t,n,l,s;const a=[de,ue],r=[];function o(e,t){return e[0]?0:1}return n=o(e),l=r[n]=a[n](e),{c(){t=d("div"),l.c(),h(t,"class","flex flex-column container bg-secondary svelte-mj7mwu")},m(e,l){i(e,t,l),r[n].m(t,null),s=!0},p(e,[s]){let i=n;n=o(e),n===i?r[n].p(e,s):(A(),R(r[i],1,1,(()=>{r[i]=null})),L(),l=r[n],l?l.p(e,s):(l=r[n]=a[n](e),l.c()),H(l,1),l.m(t,null))},i(e){s||(H(l),s=!0)},o(e){R(l),s=!1},d(e){e&&c(t),r[n].d()}}}function pe(e,t,n){let l={email:"",name:""},s=!1;return[s,()=>{n(0,s=!0)},()=>{n(0,s=!1)},e=>{l[e.target.name]=e.target.value},()=>{const e=l.email,t=l.password;e&&t&&(Z(Y.SHOW_SPINNER,{}),((e,t)=>firebase.auth().signInWithEmailAndPassword(e,t))(e,t).then((e=>{Z(Y.HIDE_SPINNER,{})})).catch((e=>{Z(Y.HIDE_SPINNER,{})})))}]}class me extends J{constructor(e){super(),z(this,e,pe,fe,a,{})}}const ge={BASE_ENDPOINT:"https://onelist-001-developer-edition.ap27.force.com/services/apexrest/api/v2/",ENDPOINTS:{getUserTasks:"getUserTasks",updateTask:"updateTask",createTask:"createTask",deleteTask:"deleteTask"}},he=["Not Started","In Progress","Completed"],_e=[{label:"Name",key:"task_name",show_in_list:!0,show_in_detail:!0,allow_inline_edit:!1,field_type:"text"},{label:"Start Date",key:"task_start_date",show_in_list:!0,show_in_detail:!1,allow_inline_edit:!0,field_type:"date"},{label:"End Date",key:"task_end_date",show_in_list:!0,show_in_detail:!1,allow_inline_edit:!0,field_type:"date"},{label:"Status",key:"task_status",show_in_list:!0,show_in_detail:!1,allow_inline_edit:!0,field_type:"select"},{label:"Notes",key:"task_note",show_in_list:!1,show_in_detail:!0,allow_inline_edit:!1,field_type:"text-long"}];Object.freeze(ge),Object.freeze(he),Object.freeze(_e);const $e=(e,t,n,l)=>fetch(ge.BASE_ENDPOINT+ge.ENDPOINTS.updateTask,{method:"POST",body:JSON.stringify({user_id:e,node_id:t,content:n,note:l})}).then((e=>e.json())).catch((e=>{console.error("updateTask : ",e)}));function ye(e){let t,n;return{c(){t=d("span"),n=f(e[0]),h(t,"class","task-name text-bold text-primary svelte-ws1lnx")},m(e,l){i(e,t,l),o(t,n)},p(e,t){1&t&&_(n,e[0])},d(e){e&&c(t)}}}function ke(e){let t,n,l;return n=new ee({props:{onClick:e[3],label:e[1],type:"link"}}),{c(){t=d("div"),U(n.$$.fragment),h(t,"class","modal-footer flex justify-center absolute svelte-ws1lnx")},m(e,s){i(e,t,s),K(n,t,null),l=!0},p(e,t){const l={};8&t&&(l.onClick=e[3]),2&t&&(l.label=e[1]),n.$set(l)},i(e){l||(H(n.$$.fragment,e),l=!0)},o(e){R(n.$$.fragment,e),l=!1},d(e){e&&c(t),M(n)}}}function be(e){let t,n,l,s,a,u,f,m=e[0]&&ye(e);const g=e[5].default,_=function(e,t,n,l){if(e){const s=r(e,t,n,l);return e[0](s)}}(g,e,e[4],null);let $=e[2]&&ke(e);return{c(){t=d("div"),n=d("div"),l=d("div"),s=d("div"),m&&m.c(),a=p(),_&&_.c(),u=p(),$&&$.c(),h(s,"class","modal-header flex justify-space-between text-primary svelte-ws1lnx"),h(l,"class","modal-content relative"),h(n,"class","modal bg-secondary absolute border-primary svelte-ws1lnx"),h(t,"class","modal-container fixed bg-transparent svelte-ws1lnx")},m(e,r){i(e,t,r),o(t,n),o(n,l),o(l,s),m&&m.m(s,null),o(l,a),_&&_.m(l,null),o(l,u),$&&$.m(l,null),f=!0},p(e,[t]){e[0]?m?m.p(e,t):(m=ye(e),m.c(),m.m(s,null)):m&&(m.d(1),m=null),_&&_.p&&(!f||16&t)&&function(e,t,n,l,s,a){if(s){const o=r(t,n,l,a);e.p(o,s)}}(_,g,e,e[4],f?function(e,t,n,l){if(e[2]&&l){const s=e[2](l(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let l=0;l<n;l+=1)e[l]=t.dirty[l]|s[l];return e}return t.dirty|s}return t.dirty}(g,e[4],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[4]),null),e[2]?$?($.p(e,t),4&t&&H($,1)):($=ke(e),$.c(),H($,1),$.m(l,null)):$&&(A(),R($,1,1,(()=>{$=null})),L())},i(e){f||(H(_,e),H($),f=!0)},o(e){R(_,e),R($),f=!1},d(e){e&&c(t),m&&m.d(),_&&_.d(e),$&&$.d()}}}function we(e,t,n){let{$$slots:l={},$$scope:s}=t,{header:a}=t,{closeLabel:r="Close"}=t,{showClose:o=!0}=t,{OnClose:i=c}=t;const c=()=>{Z(Y.CLOSE_POPUP,{})};return e.$$set=e=>{"header"in e&&n(0,a=e.header),"closeLabel"in e&&n(1,r=e.closeLabel),"showClose"in e&&n(2,o=e.showClose),"OnClose"in e&&n(3,i=e.OnClose),"$$scope"in e&&n(4,s=e.$$scope)},[a,r,o,i,s,l]}class ve extends J{constructor(e){super(),z(this,e,we,be,a,{header:0,closeLabel:1,showClose:2,OnClose:3})}}function xe(e,t,n){const l=e.slice();return l[4]=t[n],l}function Ne(t){let n,l,s,a,r=t[0][t[4].key]+"";return{c(){n=d("span"),l=f(r)},m(e,r){i(e,n,r),o(n,l),s||(a=g(n,"click",t[2]),s=!0)},p(e,t){1&t&&r!==(r=e[0][e[4].key]+"")&&_(l,r)},i:e,o:e,d(e){e&&c(n),s=!1,a()}}}function Ee(e){let t,n,l,s;const a=[Te,Se],r=[];return t=function(e,t){return"select"!==e[4].field_type?0:1}(e),n=r[t]=a[t](e),{c(){n.c(),l=m()},m(e,n){r[t].m(e,n),i(e,l,n),s=!0},p(e,t){n.p(e,t)},i(e){s||(H(n),s=!0)},o(e){R(n),s=!1},d(e){r[t].d(e),e&&c(l)}}}function Se(e){let t,n;return t=new ce({props:{type:e[4].field_type,classes:"bg-transparent",value:e[0][e[4].key],onChange:e[1],data_field:e[4].key,options:he}}),{c(){U(t.$$.fragment)},m(e,l){K(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.value=e[0][e[4].key]),t.$set(l)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){M(t,e)}}}function Te(e){let t,n;return t=new ce({props:{type:e[4].field_type,classes:"bg-transparent",value:e[0][e[4].key],onChange:e[1],data_field:e[4].key}}),{c(){U(t.$$.fragment)},m(e,l){K(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.value=e[0][e[4].key]),t.$set(l)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){M(t,e)}}}function je(e){let t,n,l=e[4].show_in_list&&function(e){let t,n,l,s,a,r;const u=[Ee,Ne],f=[];return n=function(e,t){return e[4].allow_inline_edit?0:1}(e),l=f[n]=u[n](e),{c(){t=d("span"),l.c(),s=p(),h(t,"class",a="column flex justify-center border-box text-bold pointer "+e[4].key+" svelte-6yxjsr")},m(e,l){i(e,t,l),f[n].m(t,null),o(t,s),r=!0},p(e,t){l.p(e,t)},i(e){r||(H(l),r=!0)},o(e){R(l),r=!1},d(e){e&&c(t),f[n].d()}}}(e);return{c(){l&&l.c(),t=m()},m(e,s){l&&l.m(e,s),i(e,t,s),n=!0},p(e,t){e[4].show_in_list&&l.p(e,t)},i(e){n||(H(l),n=!0)},o(e){R(l),n=!1},d(e){l&&l.d(e),e&&c(t)}}}function Ie(e){let t,n,l=_e,s=[];for(let t=0;t<l.length;t+=1)s[t]=je(xe(e,l,t));const a=e=>R(s[e],1,1,(()=>{s[e]=null}));return{c(){t=d("li");for(let e=0;e<s.length;e+=1)s[e].c();h(t,"class","columns text-primary flex justify-space-between align-center border-box svelte-6yxjsr")},m(e,l){i(e,t,l);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,[n]){if(7&n){let r;for(l=_e,r=0;r<l.length;r+=1){const a=xe(e,l,r);s[r]?(s[r].p(a,n),H(s[r],1)):(s[r]=je(a),s[r].c(),H(s[r],1),s[r].m(t,null))}for(A(),r=l.length;r<s.length;r+=1)a(r);L()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)H(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)R(s[e]);n=!1},d(e){e&&c(t),u(s,e)}}}function Oe(e,t,n){let{task:l}=t,s={...l};return e.$$set=e=>{"task"in e&&n(0,l=e.task)},[l,e=>{s[e.target.dataset.field]=e.target.value,Z(Y.UPDATE_TASK,s)},()=>{Z(Y.OPEN_TASK_DETAIL,s.task_id)}]}class Pe extends J{constructor(e){super(),z(this,e,Oe,Ie,a,{task:0})}}function Ce(e,t,n){const l=e.slice();return l[11]=t[n],l}function De(e,t,n){const l=e.slice();return l[14]=t[n],l}function Ae(e,t,n){const l=e.slice();return l[11]=t[n],l}function Le(e){let t,n,l,s,a=_e,r=[];for(let t=0;t<a.length;t+=1)r[t]=He(Ae(e,a,t));let f=e[0],m=[];for(let t=0;t<f.length;t+=1)m[t]=Re(De(e,f,t));const g=e=>R(m[e],1,1,(()=>{m[e]=null}));return{c(){t=d("div"),n=d("li");for(let e=0;e<r.length;e+=1)r[e].c();l=p();for(let e=0;e<m.length;e+=1)m[e].c();h(n,"class","columns flex justify-space-between align-center bg-dark text-white text-bold svelte-1v3mw7k"),h(t,"class","task-container flex justify-start align-center grow flex-column svelte-1v3mw7k")},m(e,a){i(e,t,a),o(t,n);for(let e=0;e<r.length;e+=1)r[e].m(n,null);o(t,l);for(let e=0;e<m.length;e+=1)m[e].m(t,null);s=!0},p(e,l){if(0&l){let t;for(a=_e,t=0;t<a.length;t+=1){const s=Ae(e,a,t);r[t]?r[t].p(s,l):(r[t]=He(s),r[t].c(),r[t].m(n,null))}for(;t<r.length;t+=1)r[t].d(1);r.length=a.length}if(1&l){let n;for(f=e[0],n=0;n<f.length;n+=1){const s=De(e,f,n);m[n]?(m[n].p(s,l),H(m[n],1)):(m[n]=Re(s),m[n].c(),H(m[n],1),m[n].m(t,null))}for(A(),n=f.length;n<m.length;n+=1)g(n);L()}},i(e){if(!s){for(let e=0;e<f.length;e+=1)H(m[e]);s=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)R(m[e]);s=!1},d(e){e&&c(t),u(r,e),u(m,e)}}}function He(t){let n,l=t[11].show_in_list&&function(t){let n,l,s,a=t[11].label+"";return{c(){n=d("span"),l=f(a),h(n,"class",s="column flex justify-center grow border-box text-bold "+t[11].key+" svelte-1v3mw7k")},m(e,t){i(e,n,t),o(n,l)},p:e,d(e){e&&c(n)}}}(t);return{c(){l&&l.c(),n=m()},m(e,t){l&&l.m(e,t),i(e,n,t)},p(e,t){e[11].show_in_list&&l.p(e,t)},d(e){l&&l.d(e),e&&c(n)}}}function Re(e){let t,n;return t=new Pe({props:{task:e[14]}}),{c(){U(t.$$.fragment)},m(e,l){K(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.task=e[14]),t.$set(l)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){M(t,e)}}}function Ue(e){let t,n;return t=new ve({props:{header:e[2].task_name,data:e[2],$$slots:{default:[Me]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(e,l){K(t,e,l),n=!0},p(e,n){const l={};4&n&&(l.header=e[2].task_name),4&n&&(l.data=e[2]),524292&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){M(t,e)}}}function Ke(e){let t,n,l=e[11].show_in_detail&&function(e){let t,n,l,s,a,r;return t=new ce({props:{width_class:"width-full",hasLabel:!0,label:e[11].label,type:e[11].field_type,onChange:e[4],value:e[2][e[11].key],data_field:e[11].key}}),{c(){U(t.$$.fragment),n=p(),l=d("br"),s=p(),a=d("br")},m(e,o){K(t,e,o),i(e,n,o),i(e,l,o),i(e,s,o),i(e,a,o),r=!0},p(e,n){const l={};4&n&&(l.value=e[2][e[11].key]),t.$set(l)},i(e){r||(H(t.$$.fragment,e),r=!0)},o(e){R(t.$$.fragment,e),r=!1},d(e){M(t,e),e&&c(n),e&&c(l),e&&c(s),e&&c(a)}}}(e);return{c(){l&&l.c(),t=m()},m(e,s){l&&l.m(e,s),i(e,t,s),n=!0},p(e,t){e[11].show_in_detail&&l.p(e,t)},i(e){n||(H(l),n=!0)},o(e){R(l),n=!1},d(e){l&&l.d(e),e&&c(t)}}}function Me(e){let t,n,l,s,a,r,o,f,m,g,_=_e,$=[];for(let t=0;t<_.length;t+=1)$[t]=Ke(Ce(e,_,t));const y=e=>R($[e],1,1,(()=>{$[e]=null}));return r=new ee({props:{onClick:e[7],label:"Save",type:"secondary"}}),m=new ee({props:{onClick:e[5],label:"Delete",type:"link"}}),{c(){t=d("br"),n=p(),l=d("br"),s=p();for(let e=0;e<$.length;e+=1)$[e].c();a=p(),U(r.$$.fragment),o=p(),f=d("div"),U(m.$$.fragment),h(f,"class","flex align-center justify-center")},m(e,c){i(e,t,c),i(e,n,c),i(e,l,c),i(e,s,c);for(let t=0;t<$.length;t+=1)$[t].m(e,c);i(e,a,c),K(r,e,c),i(e,o,c),i(e,f,c),K(m,f,null),g=!0},p(e,t){if(20&t){let n;for(_=_e,n=0;n<_.length;n+=1){const l=Ce(e,_,n);$[n]?($[n].p(l,t),H($[n],1)):($[n]=Ke(l),$[n].c(),H($[n],1),$[n].m(a.parentNode,a))}for(A(),n=_.length;n<$.length;n+=1)y(n);L()}},i(e){if(!g){for(let e=0;e<_.length;e+=1)H($[e]);H(r.$$.fragment,e),H(m.$$.fragment,e),g=!0}},o(e){$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)R($[e]);R(r.$$.fragment,e),R(m.$$.fragment,e),g=!1},d(e){e&&c(t),e&&c(n),e&&c(l),e&&c(s),u($,e),e&&c(a),M(r,e),e&&c(o),e&&c(f),M(m)}}}function Be(e){let t,n,l,s,a,r,u,f,g,_,$,y,k;r=new ce({props:{width_class:"width-half",name:"search",type:"text",placeholder:"Type your task here. Press enter to create",onChange:e[3],onKeyUp:e[6],value:e[1]}}),g=new ee({props:{onClick:q,label:"Sign out",type:"link"}});let b=e[0]&&e[0].length&&Le(e),w=e[2]&&Ue(e);return{c(){t=d("div"),n=d("header"),l=d("div"),l.innerHTML='<img class="logo svelte-1v3mw7k" src="./logo.svg" alt="onelist"/>',s=p(),a=d("div"),U(r.$$.fragment),u=p(),f=d("div"),U(g.$$.fragment),_=p(),b&&b.c(),$=p(),w&&w.c(),y=m(),h(l,"class","logo-container text-center svelte-1v3mw7k"),h(a,"class","input-container flex justify-center svelte-1v3mw7k"),h(f,"class","action-container text-center svelte-1v3mw7k"),h(n,"class","flex align-center justify-center svelte-1v3mw7k"),h(t,"class","app-container flex align-center flex-column svelte-1v3mw7k")},m(e,c){i(e,t,c),o(t,n),o(n,l),o(n,s),o(n,a),K(r,a,null),o(n,u),o(n,f),K(g,f,null),o(t,_),b&&b.m(t,null),i(e,$,c),w&&w.m(e,c),i(e,y,c),k=!0},p(e,[n]){const l={};2&n&&(l.value=e[1]),r.$set(l),e[0]&&e[0].length?b?(b.p(e,n),1&n&&H(b,1)):(b=Le(e),b.c(),H(b,1),b.m(t,null)):b&&(A(),R(b,1,1,(()=>{b=null})),L()),e[2]?w?(w.p(e,n),4&n&&H(w,1)):(w=Ue(e),w.c(),H(w,1),w.m(y.parentNode,y)):w&&(A(),R(w,1,1,(()=>{w=null})),L())},i(e){k||(H(r.$$.fragment,e),H(g.$$.fragment,e),H(b),H(w),k=!0)},o(e){R(r.$$.fragment,e),R(g.$$.fragment,e),R(b),R(w),k=!1},d(e){e&&c(t),M(r),M(g),b&&b.d(),e&&c($),w&&w.d(e),e&&c(y)}}}function ze(e,t,n){let l,s,a=[];b((()=>{var e;G(Y.UPDATE_TASK,o),G(Y.DELETE_TASK,r),G(Y.OPEN_TASK_DETAIL,i),G(Y.CLOSE_POPUP,c),Z(Y.SHOW_SPINNER,{}),(e=F.currentUser.uid,fetch(ge.BASE_ENDPOINT+ge.ENDPOINTS.getUserTasks,{method:"POST",body:JSON.stringify({user_id:e})}).then((e=>e.json())).catch((e=>{console.error("getUserTasks : ",e)}))).then((e=>{if(e&&e.nodes&&e.nodes.length){n(0,a=e.nodes);for(let e=0;e<a.length;e++)if(a[e].note){const t=JSON.parse(a[e].note);n(0,a[e].task_start_date=t.task_start_date,a),n(0,a[e].task_end_date=t.task_end_date,a),n(0,a[e].task_note=t.task_note,a),n(0,a[e].task_status=t.task_status,a),n(0,a[e].task_name=a[e].content,a),n(0,a[e].task_id=a[e].id,a),delete a[e].note,delete a[e].checked,delete a[e].content,delete a[e].id}Z(Y.HIDE_SPINNER,{})}else Z(Y.HIDE_SPINNER,{})})).catch((e=>{Z(Y.HIDE_SPINNER,{})}))}));const r=()=>{var e,t;e=F.currentUser.uid,t=s.task_id,fetch(ge.BASE_ENDPOINT+ge.ENDPOINTS.deleteTask,{method:"POST",body:JSON.stringify({user_id:e,node_id:t})}).then((e=>e.json())).catch((e=>{console.error("deleteTask : ",e)})),n(0,a=a.filter((e=>e.task_id!==s.task_id))),c()},o=e=>{const t={task_start_date:e.task_start_date?e.task_start_date:"",task_end_date:e.task_end_date?e.task_end_date:"",task_note:e.task_note?e.task_note:"",task_status:e.task_status?e.task_status:""};$e(F.currentUser.uid,e.task_id,e.task_name,JSON.stringify(t))},i=e=>{n(2,s=a.filter((t=>t.task_id===e))[0])},c=()=>{n(2,s=null)};return[a,l,s,e=>{n(1,l=e.target.value)},e=>{n(2,s[e.target.dataset.field]=e.target.value,s)},r,e=>{var t,s,r;"Enter"===e.key&&l&&(Z(Y.SHOW_SPINNER,{}),(t=F.currentUser.uid,s=l,r=JSON.stringify({task_start_date:"",task_end_date:"",task_note:"",task_status:"Not Started"}),fetch(ge.BASE_ENDPOINT+ge.ENDPOINTS.createTask,{method:"POST",body:JSON.stringify({user_id:t,content:s,note:r})}).then((e=>e.json())).catch((e=>{console.error("createTask : ",e)}))).then((e=>{a.push({task_id:e.new_node_ids[0],task_name:l,task_start_date:"",task_end_date:"",task_note:"",task_status:"Not Started"}),n(1,l=""),n(0,a),Z(Y.HIDE_SPINNER,{})})).catch((e=>{Z(Y.HIDE_SPINNER,{})})))},()=>{Z(Y.SHOW_SPINNER,{});const e={task_start_date:s.task_start_date?s.task_start_date:"",task_end_date:s.task_end_date?s.task_end_date:"",task_note:s.task_note?s.task_note:"",task_status:s.task_status?s.task_status:""};$e(F.currentUser.uid,s.task_id,s.task_name,JSON.stringify(e)).then((e=>{Z(Y.HIDE_SPINNER,{})})).catch((e=>{Z(Y.HIDE_SPINNER,{})}))}]}class Je extends J{constructor(e){super(),z(this,e,ze,Be,a,{})}}function We(e){let t;return{c(){t=d("div"),t.innerHTML='<div class="flex align-center text-primary"><img class="logo svelte-yd4ypy" src="./logo.svg" alt="oneList"/></div>',h(t,"class","main-container flex align-center flex-column justify-center bg-secondary svelte-yd4ypy")},m(e,n){i(e,t,n)},d(e){e&&c(t)}}}function qe(t){let n,l=t[0]&&We();return{c(){l&&l.c(),n=m()},m(e,t){l&&l.m(e,t),i(e,n,t)},p(e,[t]){e[0]?l||(l=We(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i:e,o:e,d(e){l&&l.d(e),e&&c(n)}}}function Fe(e,t,n){let{show:l}=t;return e.$$set=e=>{"show"in e&&n(0,l=e.show)},[l]}class Xe extends J{constructor(e){super(),z(this,e,Fe,qe,a,{show:0})}}function Ye(e){let t;return{c(){t=d("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgb(241, 242, 243 / 0%); display: block;" width="100px" height="100px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" r="16" stroke-width="4" stroke="#39414d" stroke-dasharray="50.26548245743669 50.26548245743669" fill="none" stroke-linecap="round"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="0 50 50;360 50 50"></animateTransform></circle></svg>',h(t,"class","spinner-container flex justify-center align-center fixed flex-column svelte-y0jlys")},m(e,n){i(e,t,n)},d(e){e&&c(t)}}}function Ge(t){let n,l=t[0]&&Ye();return{c(){l&&l.c(),n=m()},m(e,t){l&&l.m(e,t),i(e,n,t)},p(e,[t]){e[0]?l||(l=Ye(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i:e,o:e,d(e){l&&l.d(e),e&&c(n)}}}function Ze(e,t,n){let{show:l=!0}=t;return e.$$set=e=>{"show"in e&&n(0,l=e.show)},[l]}class Qe extends J{constructor(e){super(),z(this,e,Ze,Ge,a,{show:0})}}function Ve(e){let t,n,l,s;const a=[tt,et],r=[];function o(e,t){return e[0]?0:1}return t=o(e),n=r[t]=a[t](e),{c(){n.c(),l=m()},m(e,n){r[t].m(e,n),i(e,l,n),s=!0},p(e,s){let i=t;t=o(e),t!==i&&(A(),R(r[i],1,1,(()=>{r[i]=null})),L(),n=r[t],n||(n=r[t]=a[t](e),n.c()),H(n,1),n.m(l.parentNode,l))},i(e){s||(H(n),s=!0)},o(e){R(n),s=!1},d(e){r[t].d(e),e&&c(l)}}}function et(e){let t,n;return t=new me({}),{c(){U(t.$$.fragment)},m(e,l){K(t,e,l),n=!0},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){M(t,e)}}}function tt(e){let t,n;return t=new Je({}),{c(){U(t.$$.fragment)},m(e,l){K(t,e,l),n=!0},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){M(t,e)}}}function nt(e){let t,n,l,s,a,r;n=new Qe({props:{show:e[1]}}),s=new Xe({props:{show:e[2]}});let u=!e[2]&&Ve(e);return{c(){t=d("main"),U(n.$$.fragment),l=p(),U(s.$$.fragment),a=p(),u&&u.c()},m(e,c){i(e,t,c),K(n,t,null),o(t,l),K(s,t,null),o(t,a),u&&u.m(t,null),r=!0},p(e,[l]){const a={};2&l&&(a.show=e[1]),n.$set(a);const r={};4&l&&(r.show=e[2]),s.$set(r),e[2]?u&&(A(),R(u,1,1,(()=>{u=null})),L()):u?(u.p(e,l),4&l&&H(u,1)):(u=Ve(e),u.c(),H(u,1),u.m(t,null))},i(e){r||(H(n.$$.fragment,e),H(s.$$.fragment,e),H(u),r=!0)},o(e){R(n.$$.fragment,e),R(s.$$.fragment,e),R(u),r=!1},d(e){e&&c(t),M(n),M(s),u&&u.d()}}}function lt(e,t,n){let l,s=!1,a=!0;const r=()=>{n(1,s=!0),n(1,s)},o=()=>{n(1,s=!1),n(1,s)};return F.onAuthStateChanged((e=>{e&&e.uid?n(0,l=e):n(0,l=null),setTimeout((()=>{n(2,a=!1)}),500)})),b((()=>{G(Y.SHOW_SPINNER,r),G(Y.HIDE_SPINNER,o)})),[l,s,a]}return new class extends J{constructor(e){super(),z(this,e,lt,nt,a,{})}}({target:document.body})}();
